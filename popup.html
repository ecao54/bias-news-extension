<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bias Detector</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="popup-container">
        <h2>Bias & Fake News Detector</h2>
        <button id="analyze-btn">Analyze Article</button>
        
        <div id="results-container" style="display: none;">
            <div class="result-section">
                <h3>Overall Assessment</h3>
                <p id="overall-assessment">Loading analysis...</p>
            </div>
            
            <div class="result-section">
                <div class="bias-header">
                    <h3>Bias:</h3>
                    <span id="bias-text" class="neutral">Neutral</span>
                </div>
                <p id="bias-explanation" class="detailed-bias-explanation"></p>
                
                <!-- New dropdown button for topic analysis -->
                <button id="topic-analysis-toggle" class="dropdown-button">
                    <span>Show Topic Analysis</span>
                    <span class="dropdown-icon">â–¼</span>
                </button>
                
                <!-- Topic Analysis now embedded within bias section -->
                <div id="topic-analysis-content" class="dropdown-content" style="display: none;">
                    <div id="topic-content"></div>
                </div>
            </div>
            
            <div class="result-section">
                <h3>Sentiment</h3>
                <div class="score-container">
                    <div class="score-display">
                        <span id="sentiment-score" class="score-number">50</span>
                        <span class="score-max">/100</span>
                    </div>
                    <div class="meter-container">
                        <div id="sentiment-meter" class="meter-fill"></div>
                    </div>
                </div>
                <p id="sentiment-text" class="bias-value">Neutral</p>
                <p id="sentiment-explanation" class="explanation"></p>
            </div>
            
            <div class="result-section">
                <h3>Objectivity</h3>
                <div class="score-container">
                    <div class="score-display">
                        <span id="objectivity-score" class="score-number">50</span>
                        <span class="score-max">/100</span>
                    </div>
                    <div class="meter-container">
                        <div id="objectivity-meter" class="meter-fill"></div>
                    </div>
                </div>
                <p id="objectivity-text" class="bias-value">Balanced</p>
                <p id="objectivity-explanation" class="explanation"></p>
            </div>
            
            <!-- Remove the standalone Topic Analysis Section since we're integrating it within bias section -->
        </div>
        
        <div id="loading" style="display: none;">
            <div class="spinner"></div>
            <p>Analyzing article...</p>
        </div>
        
        <div id="error-message" style="display: none;">
            <p>Error analyzing article.</p>
        </div>
    </div>
    
    <script src="popup.js"></script>
</body>
</html>
